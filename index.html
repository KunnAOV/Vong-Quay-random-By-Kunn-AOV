<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√≤ng Quay Cao C·∫•p</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #e0e0e0;
        }

        .container, .key-entry {
            text-align: center;
        }

        .wheel-wrapper {
            position: relative;
            width: 200px;
            height: 70px;
            overflow: hidden;
            border: 2px solid #333;
            border-radius: 5px;
            background: #fff;
            margin-top: 20px;
        }

        .wheel {
            width: 200px;
            height: 70px;
            display: flex;
            flex-direction: column;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.83, 0.67);
            transform-origin: 0 0;
        }

        .wheel-item {
            height: 70px;
            line-height: 70px;
            text-align: center;
            border-bottom: 1px solid #ddd;
            font-size: 16px;
            background-color: #f0f0f0;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #555;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .modal-content h2 {
            margin: 0 0 10px;
        }

        .modal-content p {
            font-size: 18px;
            margin: 0 0 20px;
        }

        .modal-content button {
            background-color: #333;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal-content button:hover {
            background-color: #555;
        }
    </style>
</head>
<body>
    <div id="key-entry" class="key-entry">
        <h1>Nh·∫≠p Key ƒê·ªÉ Truy C·∫≠p V√≤ng Quay</h1>
        <input type="text" id="key-input" placeholder="Nh·∫≠p key">
        <button onclick="validateKey()">X√°c Nh·∫≠n Key</button>
        <p id="error-message" style="color: red;"></p>
    </div>
    <div id="wheel-container" class="container" style="display: none;">
        <div class="wheel-wrapper">
            <div class="wheel" id="wheel">
                <!-- C√°c gi·∫£i th∆∞·ªüng s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
            </div>
        </div>
        <button onclick="spinWheel()">Quay V√≤ng</button>
        <a href="https://kunnaov.github.io/key-manager/" target="_blank">Qu·∫£n l√Ω Key</a>
    </div>
    <div class="modal" id="modal">
        <div class="modal-content">
            <h2>Ch√∫c m·ª´ng!</h2>
            <p id="modal-message"></p>
            <button onclick="closeModal()">ƒê√≥ng</button>
        </div>
    </div>
    <script>
        // Function to validate key
        function validateKey() {
            const keyInput = document.getElementById('key-input').value.trim();
            const errorMessage = document.getElementById('error-message');
            const validKeys = JSON.parse(localStorage.getItem('validKeys') || '[]');
            const currentDate = new Date().toISOString().split('T')[0]; // Current date in YYYY-MM-DD format

            const keyIsValid = validKeys.some(({ key, expiry }) => key === keyInput && expiry >= currentDate);

            if (keyIsValid) {
                document.getElementById('key-entry').style.display = 'none';
                document.getElementById('wheel-container').style.display = 'block';
                errorMessage.textContent = '';
            } else {
                errorMessage.textContent = 'Key kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n.';
            }
        }

        const prizes = [
            'Tri√™·ª• V√¢n KSTT Sƒê', 'Nak TNVT Sƒê', 'YeNa HCT Sƒê', 'But PCT Sƒê', 'Allain TSSK Sƒê',
            'Veres Kimono Sƒê', 'Bijan HKCG Sƒê', 'Nak LQS Sƒê', 'Elsu TTPH Sƒê', 'Nata NHYH Sƒê',
            'Allain Kirito Sƒê', 'But Stacia Sƒê', 'Zuka MH Sƒê', 'Nak BDCT Sƒê', 'Violet TNVT Sƒê',
            'Mu TTTB Sƒê', 'Flo GSTH Sƒê', 'Zephys SV Sƒê', 'Bright Toshiro Sƒê', 'Yan Tanjiro Sƒê',
            'Mu Zenitsu Sƒê', 'Flo Seven Sƒê', 'Ryoma Samurai HT Sƒê', 'Mu Kuchiki Sƒê', 'Lubu CTLT Sƒê',
            'Raz Muay Th√°i Sƒê', 'Ilum KHTH Sƒê', 'Hayate TTVT Sƒê', 'Val ƒêNTT Sƒê', 'Raz B·∫£o V≈© Sƒê',
            'Zata S-Dreamer Sƒê', 'Airi TNVT Sƒê', 'Quillen NTLD Sƒê', 'Bijan KTLK Sƒê', 'Tulen Ch√≠ T√¥n Sƒê',
            'Veres L∆∞u Ly Sƒê', 'Zata T√† Ph∆∞·ª£ng Sƒê', 'WuKong TGXD Sƒê', 'Nak Killua Sƒê', 'Lili Wave Sƒê',
            'Tulen Th·∫ßn S·ª© Sƒê', 'Ryoma Ultraman Sƒê', 'Flo Th·∫ßn Long Sƒê', 'Errol Genos Sƒê', 'Laville X·∫° Th·∫ßn Sƒê',
            'Keera Nezuko Sƒê', 'Mina LXYV Sƒê', 'Arduin BVCG Sƒê', 'Mu Ch√≠ T√¥n Sƒê', 'Paine TXBT Sƒê',
            'Lau Mi√™u ·∫¢nh Sƒê', 'Ryoma Maple Frost Sƒê', 'WuKong T·ªÅ Thi√™n Sƒê', 'Cresht B√°ch T∆∞·ªõng Sƒê', 'Fennik PTTX Sƒê',
            'Enzo STBH Sƒê', 'Elsu T·∫≠n Th·∫ø Sƒê', 'Tel Y√™u H·ªì Sƒê', 'Omen T·∫≠n Th·∫ø Sƒê', 'Cap Kimono Sƒê',
            'EnZo Kurapika Sƒê', 'Yena Wave Sƒê', 'ƒêi√™u Thuy·ªÅn Wave Sƒê', 'Zill Tu La Sƒê', 'Ilum Thi√™n Ng∆∞ Sƒê',
            'Hayate D·∫° ∆Øng Sƒê', 'Nak Si√™u Vi·ªát Sƒê', 'LuBu Ichigo Sƒê', 'Vio T·ª∑ T·ª∑ Sƒê', 'Yorn LTS Sƒê',
            'Veera A.I Love You Sƒê', 'Gildur X√≠ch Long Sƒê', 'Charlotte Hexsword Sƒê', 'Cap Harley Quinn Sƒê', 'Sephera BNNL Sƒê',
            'Aoi Mafia Sƒê', 'Sinestrea Wave Sƒê', 'Aya C·∫ßu V·ªìng Sƒê', 'Erin C·ªï T√≠ch Sƒê', 'ƒêi√™u Thuy·ªÅn Th·∫•t T·ªãch Sƒê',
            'Yue Ho·∫£ Di·ªám Sƒê', 'Aoi D·∫° ∆Øng Sƒê', 'Lavi Moba', 'Dirak TrƒÉg Khuy·∫øt Sƒê', 'Lili Th·∫ßn Long Sƒê',
            'Omen Huy·∫øt ·∫¢nh Sƒê', 'Astrid Th·∫ßn Tr√≠ Tu·ªá Sƒê', 'Elsu Chu T∆∞·ªõc Sƒê', 'Rouie Thanh Long Sƒê', 'Elando\'rr Tuxedo Sƒê',
            'Xeniel T·∫≠n Th·∫ø Sƒê', 'Nata Ph√∫ Qu√Ω Sƒê', 'Maloch D·∫° ∆Øng Sƒê', 'But Kim Ng∆∞ Sƒê', 'Alice Qu√¢n Nh·∫°c Sƒê',
            'Krixi Tatsumaki Sƒê', 'Val X·∫° Th·∫ßn Sƒê', 'Lili Anh ƒê√†o Sƒê', 'Rourke B√°ch T∆∞·ªõng Sƒê', 'M·∫•t L∆∞·ª£t üåö'
        ];
        // Populate wheel with prizes
        const wheel = document.getElementById('wheel');
        prizes.forEach(prize => {
            const div = document.createElement('div');
            div.className = 'wheel-item';
            div.textContent = prize;
            wheel.appendChild(div);
        });

        // Spin wheel function
        function spinWheel() {
            const randomIndex = Math.floor(Math.random() * prizes.length);
            const spinDuration = 4000; // Duration of spin in milliseconds

            // Rotate the wheel
            wheel.style.transition = `transform ${spinDuration}ms cubic-bezier(0.17, 0.67, 0.83, 0.67)`;
            wheel.style.transform = `rotate(${360 * 5 + randomIndex * (360 / prizes.length)}deg)`;

            // Show the modal with the prize after spinning
            setTimeout(() => {
                const prize = prizes[randomIndex];
                document.getElementById('modal-message').textContent = `B·∫°n ƒë√£ quay tr√∫ng: ${prize}`;
                document.getElementById('modal').style.display = 'flex';
            }, spinDuration); // Match this time with the spin duration
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }
    </script>
</body>
</html>
